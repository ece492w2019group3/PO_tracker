/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 *
 * RealTimeFilter.c
 *
 * Code generation for function 'RealTimeFilter'
 *
 */

/* Include files */
#include <string.h>
#include "RealTimeFilter.h"

/* Function Definitions */
void RealTimeFilter(double x_data[], int x_size[1], const double z[120], double
                    result_z[120])
{
  signed char x_idx_0;
  int nx;
  double b_x_data[2];
  int niccp;
  int naxpy;
  int k;
  int j;
  static const double dv1[121] = { -4.5768323867460021E-18,
    -0.00043519095523433132, -5.6088120737798922E-22, 0.00047857857097036085,
    -1.755932031222554E-18, -0.00055394260487593469, 4.14667196274919E-18,
    0.00066424403046067536, 2.87613664396628E-18, -0.00081257525636639454,
    -4.4297586321421489E-19, 0.0010021985570748812, -3.272961007339043E-18,
    -0.0012365981424221576, 8.737259799310054E-18, 0.0015195499268386863,
    -1.646845861282584E-17, -0.001855214526538254, -2.0053172985662394E-18,
    0.0022482611270577403, -6.0447108678258907E-18, -0.0027040329568344115,
    1.7387854344460266E-17, 0.0032287697046283655, -7.757746489919542E-18,
    -0.0038299091922148402, -6.121352966100732E-18, 0.0045165013965957051,
    -9.591920881247948E-18, -0.0052997849659709943, 3.0893618610535515E-17,
    0.006194004013416101, -1.1467071819564832E-17, -0.0072175890461670189,
    -1.5264253194544263E-17, 0.0083949051442659319, -1.3301246210893238E-17,
    -0.0097589117940399261, 5.1568481845247477E-17, 0.011355341191315508,
    -1.5014281832986891E-17, -0.013249512848673706, 1.5801677883118787E-17,
    0.01553795445253075, -1.6531310809103377E-17, -0.018369313575095126,
    1.7195186599918066E-17, 0.021984564433871256, -1.7786031693473736E-17,
    -0.026801065548863506, 1.8297372667283127E-17, 0.0336086791399424,
    -1.8723607162632183E-17, -0.044102073817107422, 1.9060065265194572E-17,
    0.062690521413198266, -1.9303060669590228E-17, -0.10554682392961906,
    1.9449931067318541E-17, 0.31824318397534218, 0.50021056416502829,
    0.31824318397534218, 1.9449931067318541E-17, -0.10554682392961906,
    -1.9303060669590228E-17, 0.062690521413198266, 1.9060065265194572E-17,
    -0.044102073817107422, -1.8723607162632183E-17, 0.0336086791399424,
    1.8297372667283127E-17, -0.026801065548863506, -1.7786031693473736E-17,
    0.021984564433871256, 1.7195186599918066E-17, -0.018369313575095126,
    -1.6531310809103377E-17, 0.01553795445253075, 1.5801677883118787E-17,
    -0.013249512848673706, -1.5014281832986891E-17, 0.011355341191315508,
    5.1568481845247477E-17, -0.0097589117940399261, -1.3301246210893238E-17,
    0.0083949051442659319, -1.5264253194544263E-17, -0.0072175890461670189,
    -1.1467071819564832E-17, 0.006194004013416101, 3.0893618610535515E-17,
    -0.0052997849659709943, -9.591920881247948E-18, 0.0045165013965957051,
    -6.121352966100732E-18, -0.0038299091922148402, -7.757746489919542E-18,
    0.0032287697046283655, 1.7387854344460266E-17, -0.0027040329568344115,
    -6.0447108678258907E-18, 0.0022482611270577403, -2.0053172985662394E-18,
    -0.001855214526538254, -1.646845861282584E-17, 0.0015195499268386863,
    8.737259799310054E-18, -0.0012365981424221576, -3.272961007339043E-18,
    0.0010021985570748812, -4.4297586321421489E-19, -0.00081257525636639454,
    2.87613664396628E-18, 0.00066424403046067536, 4.14667196274919E-18,
    -0.00055394260487593469, -1.755932031222554E-18, 0.00047857857097036085,
    -5.6088120737798922E-22, -0.00043519095523433132, -4.5768323867460021E-18 };

  int boffset_tmp;
  x_idx_0 = (signed char)x_size[0];
  nx = x_size[0];
  memset(&result_z[0], 0, 120U * sizeof(double));
  if (0 <= nx - 1) {
    memcpy(&b_x_data[0], &z[0], (unsigned int)(nx * (int)sizeof(double)));
  }

  niccp = x_size[0] + 1;
  if (niccp <= nx) {
    memset(&b_x_data[niccp + -1], 0, (unsigned int)(((nx - niccp) + 1) * (int)
            sizeof(double)));
  }

  naxpy = x_size[0];
  for (k = 1; k <= nx; k++) {
    for (j = 0; j < naxpy; j++) {
      niccp = (k + j) - 1;
      b_x_data[niccp] += x_data[k - 1] * dv1[j];
    }

    naxpy--;
  }

  niccp = 119 - x_size[0];
  for (k = 0; k <= niccp; k++) {
    result_z[k] = z[k + nx];
  }

  niccp = x_size[0] - 1;
  for (k = 0; k <= niccp; k++) {
    boffset_tmp = nx - k;
    naxpy = 120 - boffset_tmp;
    for (j = 0; j <= naxpy; j++) {
      result_z[j] += x_data[k] * dv1[boffset_tmp + j];
    }
  }

  x_size[0] = x_idx_0;
  if (0 <= x_idx_0 - 1) {
    memcpy(&x_data[0], &b_x_data[0], (unsigned int)(x_idx_0 * (int)sizeof(double)));
  }
}

/* End of code generation (RealTimeFilter.c) */
